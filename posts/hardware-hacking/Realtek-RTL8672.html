<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Housey2k's blog</title>
	<link rel="stylesheet" href="/style.css" />
	
	<script src="/fhscript.js"></script>
	<script src="/postlist.js"></script>
  
  <script src="/analytics.js"></script>
</head>
<body>
	<header id="header-placeholder"></header>

	<main class="container">
		<article>
			<h2>Trying to hack into a Realtek based router through JTAG</h2>
			<p><em>Posted on 17/05/2025</em></p>
			<div class="post-content">
				<img src="/posts/hardware-hacking-img/OiRTLRouter.jpg" alt="Router motherboard" title="A picture of the router board" />
				<p>I got an old "Oi" (a brazillian internet and phone provider company) router from a relative, after disassembly, I managed to find out it's based on a RealTek RTL8672 SoC</p>
				<p>One thing that instantly drew my attention was a 12 pin header on the board that was really close to the MCU</p>
				<p>After some research, i found out that the pinout of this header is compatible with the pinout for the WRT54G router by Linksys</p>
				
				<img src="/posts/hardware-hacking-img/OiRTLRouter-JTAG.jpg" alt="Router motherboard with JTAG modchip" title="Router motherboard with JTAG modchip" />
				
				<p>I immedieately soldered wires to that header, as seen on the picture, but after trying to connect through my bluepill DirtyJTAG adapter, UrJTAG said TDO was stuck at 0</p>
				<p>But after doing a diode test on the header, I found out that the TDO pin wasn't even connected, it showed Open Line (O.L) on the multimeter</p>
				<p>I followed the traces to some resistor pads right next to the header</p>
				
				<img src="/posts/hardware-hacking-img/OiRTLRouter-JTAG-RPads.jpg" alt="Resistor pads (to be added)" title="Resistor pads (to be added)" />
			
				<p>After soldering a jumper wire to R86, I got a reverse diode value on the test, meaning the pad was actually connected this time.</p>
				<p>Now when I try to connect, the UrJTAG console says TDO is stuck at 1</p>
				<p>Now the only thing left is checking if the TMS pullup resistor is there or is missing too</p>
				<p>This post will be updated soon, if it works, great, if it doesn't, it ends here because I don't have access to a glitcher, a bluepill would be too slow, and an FPGA way too expensive</p>
			
			</div>
		</article>

		
		<section id="post-list-placeholder"></section>
	</main>
	<footer id="footer-placeholder"></footer>
	
	<script>
	  editPlaceholder('header-placeholder', '/header.html');
	  editPlaceholder('footer-placeholder', '/footer.html');
	  editPlaceholder('post-list-placeholder', '/post-list.html'); // load generics
	  
	  postmain(); // postlist.js load recommended posts
	</script>
</body>
</html>
